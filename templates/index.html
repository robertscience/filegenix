<!DOCTYPE html>
<html>
<head>
    <title>FileGenix - RobertScience Edition</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <h1 class="text-neon">FileGenix - RobertScience Edition</h1>
    <input type="file" id="fileInput" multiple>
    <div id="uploadText">Arrastra tus archivos aquí o toca para subir.</div>
    <button onclick="uploadFiles()">Subir Archivos</button>
    <script>
        async function uploadFiles() {
            const fileInput = document.getElementById('fileInput');
            const uploadText = document.getElementById('uploadText');
            const files = fileInput.files;
            if (files.length === 0) {
                showToast('Por favor, selecciona al menos un archivo.', 'error');
                return;
            }
            const formData = new FormData();
            for (let file of files) {
                formData.append('files', file);
            }
            uploadText.innerHTML = '<i class="fas fa-spinner fa-spin text-neon"></i> Subiendo...';
            try {
                const response = await fetch('https://filegenix-backend.onrender.com/upload', {
                    method: 'POST',
                    body: formData
                });
                const result = await response.json();
                uploadText.textContent = 'Arrastra tus archivos aquí o toca para subir.';
                console.log(result);
            } catch (error) {
                uploadText.textContent = 'Arrastra tus archivos aquí o toca para subir.';
                showToast('Error al subir archivos: ' + error.message, 'error');
            }
        }
        function showToast(message, type) { console.log(message); }
    </script>
</body>
</html>